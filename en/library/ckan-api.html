<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Usage of the API - OGD Handbook</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="//opendata-swiss.github.io/ogd-handbook-site/en/library/ckan-api.html">

        <meta name="author" content="Open Government Data Switzerland" />
        <meta name="description" content="A description of the CKAN API" />

        <meta property="og:site_name" content="OGD Handbook" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Usage of the API"/>
        <meta property="og:url" content="//opendata-swiss.github.io/ogd-handbook-site/en/library/ckan-api.html"/>
        <meta property="og:description" content="A description of the CKAN API"/>
        <meta property="article:published_time" content="2016-01-01" />
            <meta property="article:section" content="Library" />
            <meta property="article:author" content="Open Government Data Switzerland" />


    <!-- Opendata.swiss Bootstrap theme -->
    <link rel='stylesheet' id='font_source_sans_pro-css'  href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic' type='text/css' media='all' />
    <link href="//opendata-swiss.github.io/ogd-handbook-site/en/theme/ogdch/app.css" rel="stylesheet">

    <link href="//opendata-swiss.github.io/ogd-handbook-site/en/theme/css/pygments/native.css" rel="stylesheet">
    <link href="//opendata-swiss.github.io/ogd-handbook-site/en/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
        <link href="//opendata-swiss.github.io/ogd-handbook-site/en/theme/ogdch/custom.css" rel="stylesheet">

        <link href="//opendata-swiss.github.io/ogd-handbook-site/en/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="OGD Handbook ATOM Feed"/>



        <link href="//opendata-swiss.github.io/ogd-handbook-site/en/feeds/library.atom.xml" type="application/atom+xml" rel="alternate"
              title="OGD Handbook Library ATOM Feed"/>

</head>
<body class="page page-template-default article-ckan-api">

<!-- Beta notice -->
<div class="alert-floating">
	<div class="alert alert-warning alert-dismissible" role="alert">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<a href="https://github.com/opendata-swiss/ogd-handbook-wiki/issues" target="_blank">
			<b>BETA</b> - <i>handbook.opendata.swiss</i>
is currently available as a beta version. Click here to report problems.		</a>
	</div>
</div>

<nav class="navbar navbar-default" id="main-navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navigation-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>

			<a class="lang-en navbar-brand" href="//opendata-swiss.github.io/ogd-handbook-site/en/pages/index">
				<img src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/ogdch/handbook_logo.svg" class="navbar-brand-image hidden-xs hidden-sm" title="handbook.opendata.swiss" />
				<img src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/ogdch/handbook_horizontal.svg" class="navbar-brand-image hidden-md hidden-lg" title="handbook.opendata.swiss" />
			</a>
		</div>

		<div class="collapse navbar-collapse" id="main-navigation-collapse" role="navigation">

			<div class="lang-en menu-mainnavigation-en-container"><ul id="menu-mainnavigation-en" class="nav navbar-nav navbar-right">
				<li id="menu-item-238" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-238">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/en/category/identify">Identify</a>
				</li>
				<li id="menu-item-239" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-239">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/en/category/prepare">Prepare</a>
				</li>
				<li id="menu-item-287" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-287">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/en/category/publish">Publish</a>
				</li>
				<!-- <li id="menu-item-180" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-180">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/en/category/support">Support</a>
				</li> -->
				<li id="menu-item-237" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-237">
					<a href="http://opendata.swiss/en/"><span class="logo-color">opendata</span>.swiss</a></li>
			</ul></div><!-- /.menu-mainnavigation-en-container -->

		</div><!-- /.navbar-collapse -->
	</div><!-- /.container -->
</nav>
<!-- Banner -->
<!-- End Banner -->

<!-- moved here for OGDCH theme -->
  	<header class="page-header">
  		<div class="container">
  			<div class="row">
  				<div class="col-xs-12">
  					<ol class="breadcrumb">
              <li class="item-home"><a class="bread-link bread-home" href="//opendata-swiss.github.io/ogd-handbook-site/en/pages/index" title="OGD Handbook">OGD Handbook</a></li>
							<li class="item-2 active"><a href="//opendata-swiss.github.io/ogd-handbook-site/en/category/library">Library</a></li>
  					</ol>
  					<h1>
  							Usage of the API
  					</h1>
              <div class="lead"><p>
                <p>A description of the CKAN API</p>
              </p></div>
  				</div>
  			</div>
  		</div>
  	</header>

<div class="container">
    <div class="row">
        <div class="col-lg-12">

    <section id="content" class="body body-document">
        <article>
            <div class="panel library-info">
                <div class="panel-body">
<footer class="post-info">

  <div class="article-actions">


  </div>

    <span class="label label-default">
Published</span>
    <span class="published">
      <time datetime="2016-01-01T00:00:00+01:00"> Fri 01 January 2016</time>
    </span>
    <br>



            <span class="label label-default">
Author(s)</span>
            <span class="author">
Open Government Data Switzerland            </span>
            <br>




    
<span class="label label-default">
	<i class="fa fa-globe"></i>
Translations</span>
	<a class="btn btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/en/../de/library/ckan-api.html">de</a>
	<a class="btn btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/en/../fr/library/ckan-api.html">fr</a>
	<a class="btn btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/en/../it/library/ckan-api.html">it</a>
<br>



    <div class="btn-group" role="group" aria-label="Downloads">
      <a href="javascript:window.print()" class="btn btn-default btn-sm btn-print" role="button">
        <i class="fa fa-print"></i> Print      </a>
    </div>

    <p>
      <div class="btn-group" role="group" aria-label="Editing">
	<a class="btn btn-success btn-sm" target="_blank" href="https://github.com/opendata-swiss/ogd-handbook-wiki/edit/master/library/ckan-api.en.md">
		<i class="fa fa-edit"></i>
Edit</a>
	<a class="btn btn-primary btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/en/pages/contribute">
		<i class="fa fa-info-circle"></i>
Instructions</a>
	<a class="btn btn-default btn-sm" href="mailto:opendata@bar.admin.ch?subject=OGD-Handbook+-+ckan-api">
		<i class="fa fa-inbox"></i>
Topic enquiry</a>
</div>

    </p>

</footer><!-- /.post-info -->                </div>
            </div>
            <ul class="resource-list list-unstyled">
            </ul>
              <div id="toc"><ul><li><a class="toc-href" href="#" title="Usage of the API">Usage of the API</a><ul><li><a class="toc-href" href="#introduction" title="Introduction">Introduction</a></li><li><a class="toc-href" href="#concepts" title="Concepts">Concepts</a><ul><li><a class="toc-href" href="#entities" title="Entities">Entities</a></li><li><a class="toc-href" href="#action-api" title="Action API">Action API</a></li><li><a class="toc-href" href="#authentication" title="Authentication">Authentication</a></li></ul></li><li><a class="toc-href" href="#examples_1" title="Examples">Examples</a><ul><li><a class="toc-href" href="#find-metadata-of-a-specific-dataset" title="Find metadata of a specific dataset">Find metadata of a specific dataset</a></li><li><a class="toc-href" href="#search-for-datasets" title="Search for datasets">Search for datasets</a></li></ul></li></ul></li></ul></div>
            <div class="entry-content">
              <h1 id="introduction">Introduction</h1>
<p>The open data portal opendata.swiss is based on the <a href="http://ckan.org">open source project CKAN</a>.
CKAN provides an extensive API for the metadata of the open data catalogue.</p>
<p>The API is HTTP based and uses GET and POST requests.
All responses are provided as JSON.</p>
<p>Please use the <a href="http://docs.ckan.org/en/latest/api/">CKAN documentation for detailed information about the API</a>.</p>
<p>Important note about metadata: opendata.swiss uses the <a href="/en/library/ch-dcat-ap">metadata standard DCAT-AP Switzerland</a>. Therefore all metadata is returned using this standard. Where possible, a mapping to CKAN standard fields is provided by the API.</p>
<h1 id="concepts">Concepts</h1>
<p>CKAN uses internally a number of concepts, that are important to understand in order to use the API properly.</p>
<h2 id="entities">Entities</h2>
<p>First of all, the following entities are used:</p>
<ul>
<li><strong>Packages</strong> (also known as datasets): a container for metadata containing multiple resources</li>
<li><strong>Resource</strong>: a file or API, actual data you can use (NOTE: opendata.swiss does currently not host files, only URLs to files and APIs)</li>
<li><strong>Group</strong> (aslo known as categories or themes): a categorization of the datasets. A dataset may have multiple groups</li>
<li><strong>Organization</strong>: is a special kind of group, one dataset has exactly one owning organization</li>
</ul>
<h2 id="action-api">Action API</h2>
<p>All API requests use the so called <a href="http://docs.ckan.org/en/latest/api/#action-api-reference">Action API</a>.
The URL of these requests is composed like that:</p>
<p>https://opendata.swiss/api/{api_version}/action/{action_name}</p>
<p>The currently used API version is 3, and a list of actions is <a href="http://docs.ckan.org/en/latest/api/#action-api-reference">available in the CKAN documentation</a>.</p>
<p>Example: https://opendata.swiss/api/3/action/group_list</p>
<h2 id="authentication">Authentication</h2>
<p>Most GET-able API function do not need authentication (i.e. everybody is allowed to read metadata).
For all other actions POST requests are used (e.g. create new packages, update groups or delete resources), that require authentication.
Please <a href="mailto:opendata@bar.admin.ch">contact us</a> if you have further questions regarding the advanced usage of the API.</p>
<h1 id="examples_1">Examples</h1>
<p>Here are a couple of examples, how to use the API.
Note the API always returns a JSON response.</p>
<h2 id="find-metadata-of-a-specific-dataset">Find metadata of a specific dataset</h2>
<p>Datasets are called "packages" in the API, to list all packages, we use <code>package_list</code>:</p>
<div class="highlight"><pre><span></span>curl <span class="s1">'https://opendata.swiss/api/3/action/package_list'</span>
</pre></div>
<p>Here we get a list of all available datasets slugs, we can pick one, and get all metadata from it, e.g. <code>studierende-fachhochschule-anz</code>:</p>
<div class="highlight"><pre><span></span>curl <span class="s1">'https://opendata.swiss/api/3/action/package_show?id=studierende-fachhochschule-anz'</span>
</pre></div>
<h2 id="search-for-datasets">Search for datasets</h2>
<p>The search functionality is provided by the <a href="http://docs.ckan.org/en/latest/api/#ckan.logic.action.get.package_search">API function <code>package_search</code></a>.
A simple search for <code>switzerland</code> looks like this:</p>
<div class="highlight"><pre><span></span>curl <span class="s1">'https://opendata.swiss/api/3/action/package_search?q=switzerland'</span>
</pre></div>
<p>The search is based on <a href="http://lucene.apache.org/solr/">Solr</a>, and therefore provides a number of advanced parameters.</p>
<p>To filter the search to only return results with a specific keyword (<code>geology</code>), <code>fq</code> (filter query) could be used:</p>
<div class="highlight"><pre><span></span>curl <span class="s1">'https://opendata.swiss/api/3/action/package_search?q=switzerland&amp;fq=+keywords_en:geology'</span>
</pre></div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>
        </div>
    </div>
</div>
<footer class="container page-footer">
	<div class="row top-buffer">
		<div class="col-xs-12">
			<p>The OGD Handbook provides support for individuals and organizations wishing to publish open government data. It is designed as a wiki: contributions from organizations and individuals that have experience with open data are explicitly welcomed. handbook.opendata.swiss is operated by the Federal Statistical Office.</p>
		</div>
	</div>
	<div class="row top-buffer">
		<div class="col-md-2 col-xs-12">
			<div class="btn-group">
				<button type="button" id="lang-button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="name">Deutsch</span> <span class="caret"></span>
				</button>
				<ul class="dropdown-menu" role="menu" id="lang-switch">
					<li lang="de"><a href="/de/pages/index">Deutsch</a></li>
					<li lang="it"><a href="/it/pages/index">Italiano</a></li>
					<li lang="fr"><a href="/fr/pages/index">Fran√ßais</a></li>
					<li lang="en"><a href="/en/pages/index">English</a></li>
				</ul>
			</div>
		</div>
		<div class="col-md-2 col-xs-6">
			<ul class="list-unstyled">
				<li><a href="//opendata-swiss.github.io/ogd-handbook-site/en/pages/contribute">Instructions</a></li>
				<!-- <li><a href="//opendata-swiss.github.io/ogd-handbook-site/en/category/library">Library</a></li> -->
			</ul>
		</div>
		<div class="col-md-2 col-xs-6">
			<ul class="list-unstyled">
				<li><a href="//opendata-swiss.github.io/ogd-handbook-site/en/pages/about">About us</a></li>
				<!-- <li><a href="//opendata-swiss.github.io/ogd-handbook-site/en/library/glossary">Glossary</a></li> -->
			</ul>
		</div>
		<div class="col-md-4 col-xs-12">
			<ul class="list-unstyled">
				<li><a href="//opendata-swiss.github.io/ogd-handbook-site/en/pages/legal-notice">Legal notice</a></li>
			</ul>
		</div>
	</div>
	<div id="logos" class="row top-buffer">
		<div class="col-xs-12">
			<img class="logo-confederation" src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/ogdch/logo-confederation.png" />
			<img class="logo-egovernment" src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/ogdch/Logo-TF-en.png" />
		</div>
	</div>
</footer>
<script src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/js/respond.min.js"></script>

<!-- Handbook scripts -->
<script src="//opendata-swiss.github.io/ogd-handbook-site/en/theme/ogdch/handbook.js"></script>


</body>
</html>