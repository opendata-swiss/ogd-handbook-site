<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Advanced Search - OGD Handbook</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="//opendata-swiss.github.io/ogd-handbook-site/library/advanced-search.html">

        <meta name="author" content="Open Government Data Switzerland" />
        <meta name="keywords" content="support" />

        <meta property="og:site_name" content="OGD Handbook" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Advanced Search"/>
        <meta property="og:url" content="//opendata-swiss.github.io/ogd-handbook-site/library/advanced-search.html"/>
        <meta property="og:description" content=""/>
        <meta property="article:published_time" content="2017-07-20" />
            <meta property="article:section" content="Library" />
            <meta property="article:tag" content="support" />
            <meta property="article:author" content="Open Government Data Switzerland" />


    <!-- Opendata.swiss Bootstrap theme -->
    <link rel='stylesheet' id='font_source_sans_pro-css'  href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic' type='text/css' media='all' />
    <link href="//opendata-swiss.github.io/ogd-handbook-site/theme/ogdch/app.css" rel="stylesheet">

    <link href="//opendata-swiss.github.io/ogd-handbook-site/theme/css/pygments/native.css" rel="stylesheet">
    <link href="//opendata-swiss.github.io/ogd-handbook-site/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
        <link href="//opendata-swiss.github.io/ogd-handbook-site/theme/ogdch/custom.css" rel="stylesheet">

        <link href="//opendata-swiss.github.io/ogd-handbook-site/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="OGD Handbook ATOM Feed"/>



        <link href="//opendata-swiss.github.io/ogd-handbook-site/feeds/library.atom.xml" type="application/atom+xml" rel="alternate"
              title="OGD Handbook Library ATOM Feed"/>

</head>
<body class="page page-template-default article-advanced-search">

<!-- Beta notice -->
<div class="alert-floating">
	<div class="alert alert-warning alert-dismissible" role="alert">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<a href="https://github.com/opendata-swiss/ogd-handbook-wiki/issues" target="_blank">
			<b>BETA</b> - <i>handbook.opendata.swiss</i>
is currently available as a beta version. Click here to report problems.		</a>
	</div>
</div>

<nav class="navbar navbar-default" id="main-navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navigation-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>

			<a class="lang-en navbar-brand" href="//opendata-swiss.github.io/ogd-handbook-site/pages/index">
				<img src="//opendata-swiss.github.io/ogd-handbook-site/theme/ogdch/handbook_logo.svg" class="navbar-brand-image hidden-xs hidden-sm" title="handbook.opendata.swiss" />
				<img src="//opendata-swiss.github.io/ogd-handbook-site/theme/ogdch/handbook_horizontal.svg" class="navbar-brand-image hidden-md hidden-lg" title="handbook.opendata.swiss" />
			</a>
		</div>

		<div class="collapse navbar-collapse" id="main-navigation-collapse" role="navigation">

			<div class="lang-en menu-mainnavigation-en-container"><ul id="menu-mainnavigation-en" class="nav navbar-nav navbar-right">
				<li id="menu-item-238" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-238">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/category/identify">Identify</a>
				</li>
				<li id="menu-item-239" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-239">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/category/prepare">Prepare</a>
				</li>
				<li id="menu-item-287" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-287">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/category/publish">Publish</a>
				</li>
				<!-- <li id="menu-item-180" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-180">
					<a href="//opendata-swiss.github.io/ogd-handbook-site/category/support">Support</a>
				</li> -->
				<li id="menu-item-237" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-237">
					<a href="http://opendata.swiss/en/"><span class="logo-color">opendata</span>.swiss</a></li>
			</ul></div><!-- /.menu-mainnavigation-en-container -->

		</div><!-- /.navbar-collapse -->
	</div><!-- /.container -->
</nav>
<!-- Banner -->
<!-- End Banner -->

<!-- moved here for OGDCH theme -->
  	<header class="page-header">
  		<div class="container">
  			<div class="row">
  				<div class="col-xs-12">
  					<ol class="breadcrumb">
              <li class="item-home"><a class="bread-link bread-home" href="//opendata-swiss.github.io/ogd-handbook-site/pages/index" title="OGD Handbook">OGD Handbook</a></li>
							<li class="item-2 active"><a href="//opendata-swiss.github.io/ogd-handbook-site/category/library">Library</a></li>
  					</ol>
  					<h1>
  							Advanced Search
  					</h1>
  				</div>
  			</div>
  		</div>
  	</header>

<div class="container">
    <div class="row">
        <div class="col-lg-12">

    <section id="content" class="body body-document">
        <article>
            <div class="panel library-info">
                <div class="panel-body">
<footer class="post-info">

  <div class="article-actions">


  </div>

    <span class="label label-default">
Published</span>
    <span class="published">
      <time datetime="2017-07-20T00:00:00+02:00"> Thu 20 July 2017</time>
    </span>
    <br>



            <span class="label label-default">
Author(s)</span>
            <span class="author">
Open Government Data Switzerland            </span>
            <br>



<span class="label label-default">
	<i class="fa fa-tag"></i>
	Tags</span>
<span class="tags">
	<a class="btn btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/tag/support.html">support</a>
</span>
<br>

    
<span class="label label-default">
	<i class="fa fa-globe"></i>
Translations</span>
	<a class="btn btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/../de/library/advanced-search.html">de</a>
	<a class="btn btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/../fr/library/advanced-search.html">fr</a>
	<a class="btn btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/../it/library/advanced-search.html">it</a>
<br>



    <div class="btn-group" role="group" aria-label="Downloads">
      <a href="javascript:window.print()" class="btn btn-default btn-sm btn-print" role="button">
        <i class="fa fa-print"></i> Print      </a>
    </div>

    <p>
      <div class="btn-group" role="group" aria-label="Editing">
	<a class="btn btn-success btn-sm" target="_blank" href="https://github.com/opendata-swiss/ogd-handbook-wiki/edit/master/library/advanced-search.en.md">
		<i class="fa fa-edit"></i>
Edit</a>
	<a class="btn btn-primary btn-sm" href="//opendata-swiss.github.io/ogd-handbook-site/pages/contribute">
		<i class="fa fa-info-circle"></i>
Instructions</a>
	<a class="btn btn-default btn-sm" href="mailto:opendata@bar.admin.ch?subject=OGD-Handbook+-+advanced-search">
		<i class="fa fa-inbox"></i>
Topic enquiry</a>
</div>

    </p>

</footer><!-- /.post-info -->                </div>
            </div>
            <ul class="resource-list list-unstyled">
            </ul>
              <div id="toc"><ul><li><a class="toc-href" href="#" title="Advanced Search">Advanced Search</a><ul><li><a class="toc-href" href="#advanced-search" title="Advanced search">Advanced search</a><ul><li><a class="toc-href" href="#technical-background" title="Technical background">Technical background</a></li><li><a class="toc-href" href="#search-index" title="Search Index">Search Index</a></li><li><a class="toc-href" href="#query-syntax" title="Query syntax">Query syntax</a></li><li><a class="toc-href" href="#search-operators" title="Search operators">Search operators</a></li><li><a class="toc-href" href="#searchterm-suggestions" title="Searchterm suggestions">Searchterm suggestions</a></li></ul></li></ul></li></ul></div>
            <div class="entry-content">
              <p><a name="advanced-search"></a></p>
<h1 id="advanced-search">Advanced search</h1>
<p><a name="technical-background"></a></p>
<h2 id="technical-background">Technical background</h2>
<p>opendata.swiss has a very powerful search engine, that can help you to find exactly the datasets you want.
The search is provided by the open source component <a href="http://lucene.apache.org/solr/">Apache Lucene/Solr</a>.
Every dataset is indexed by Solr when it gets updated, and if you perform a search on the portal, this index is queried to efficiently deliver results.</p>
<p>The search index is basically the "database" where all the information for the search is saved.
It uses a custom schema with all the dataset fields that should be indexed.
The schema is flat, i.e. nested elements like resources must be saved differently, in order for Solr to index them.
The same applies to the multilingual fields, which are all stored with the language suffix, e.g. <code>keywords_en</code> contains the English keywords.</p>
<p>By default, all the fields that belong to a dataset are copied in one field (called <em>"text"</em>), so that the search process only has to check one field to find a match.
So if a user submits a search with the query "weather", Solr runs this query against the <em>"text"</em> field of all datasets.</p>
<p><a name="search-index"></a></p>
<h2 id="search-index">Search Index</h2>
<p>The search index contains the following fields:</p>
<p>URLs:
<em> <code>url</code>
</em> <code>ckan_url</code>
<em> <code>download_url</code>
</em> <code>res_url</code></p>
<p>Text-fields:
<em> <code>extras_*</code>
</em> <code>res_extras_*</code>
<em> <code>urls</code>
</em> <code>name</code>
<em> <code>title</code>
</em> <code>title_string</code>
<em> <code>text</code>
</em> <code>license</code>
<em> <code>notes</code>
</em> <code>tags</code>
<em> <code>groups</code>
</em> <code>organization</code>
<em> <code>res_name</code>
</em> <code>res_format</code>
<em> <code>res_description</code>
</em> <code>identifier</code>
<em> <code>see_alsos</code>
</em> <code>maintainer</code>
<em> <code>author</code>
</em> <code>publishers</code>
* <code>contact_points</code></p>
<p>Translated fields:
<em> <code>title</code>
</em> <code>keywords</code>
<em> <code>groups</code>
</em> <code>organization</code>
<em> <code>res_name</code>
</em> <code>res_description</code></p>
<p>Find more detailed information about the Solr configuration in the <a href="https://lucene.apache.org/solr/guide/6_6/index.html">official Solr documentation</a>. The config and schema of opendata.swiss is available on GitHub:
<em> <a href="https://github.com/opendata-swiss/ckanext-switzerland/blob/master/solr/solrconfig.xml">solrconfig.xml</a>
</em> <a href="https://github.com/opendata-swiss/ckanext-switzerland/blob/master/solr/schema.xml">schema.xml</a></p>
<p>The source of the referenced files in the <code>solr.xml</code> (e.g. <code>italian_stop.txt</code>, <code>fr_elision.txt</code>, etc.) can be found in the official CKAN-Repository of the current <a href="https://github.com/ckan/ckan/tree/master/ckanext/multilingual/solr">CKAN-Version on Github</a>. All other files (e.g. <code>stopwords.txt</code>) are provided by Solr.</p>
<p><a name="query-syntax"></a></p>
<h2 id="query-syntax">Query syntax</h2>
<p>Solr has its own <a href="http://lucene.apache.org/core/3_6_0/queryparsersyntax.html">query syntax</a> to write complex queries.
Depending on the query, Solr uses a different query parser to determine what to do.</p>
<p><a name="search-operators"></a></p>
<h2 id="search-operators">Search operators</h2>
<ul>
<li>Use +<em>{field}</em>:<em>{value}</em> to include a search term, e.g. <a href="https://opendata.swiss/en/dataset?q=title_en%3Apower"><code>+title_en:power</code></a> to find all datasets, whose English title contains the word "power"</li>
<li>Use -<em>{field}</em>:<em>{value}</em> to exclude a search term, e.g. <a href="https://opendata.swiss/en/dataset?q=%2Btitle_en%3Apower+-title_en%3Ahydraulic"><code>+title_en:power -title_en:hydraulic</code></a> to find all datasets, whose English title contains the word "power", but not "hydraulic"</li>
<li>Use <code>AND</code> to combine several search terms that all must match, e.g. <a href="https://opendata.swiss/en/dataset?q=keywords_en%3A%28geology+AND+geophysics%29"><code>keywords_en:(geology AND geophysics)</code></a> tp find all datasets that have both tags <code>geology</code> and <code>geophysics</code></li>
<li>Use <code>OR</code> to combine several search terms, where one of them must match, e.g. <a href="https://opendata.swiss/en/dataset?q=organization%3A%28kanton-thurgau+OR+stadt-zurich%29"><code>organization:(kanton-thurgau OR stadt-zurich)</code></a></li>
</ul>
<p>All of these options can be further combined together, e.g. <a href="https://opendata.swiss/en/dataset?q=organization%3A%28kanton-thurgau+OR+stadt-zurich%29+karte"><code>organization:(kanton-thurgau OR stadt-zurich) karte</code></a></p>
<p><a name="searchterm-suggestions"></a></p>
<h2 id="searchterm-suggestions">Searchterm suggestions</h2>
<p>The search-field of opendata.swiss provides searchterm-suggestions when a user types into it. For each language a self-contained Solr index is built multiple times throughout the day. That means that changes to datasets or new data won't be reflected in the suggestions immediately. </p>
<p>The index is based on the following fields:</p>
<ul>
<li><code>dataset-title</code> (translated)</li>
<li><code>keywords</code> (translated)</li>
<li><code>groups</code> (translated)</li>
<li><code>organization</code> (translated)</li>
<li><code>distribution-name</code> (translated)</li>
<li><code>author</code></li>
<li><code>maintainer</code></li>
<li><code>contact_points</code></li>
<li><code>publishers</code></li>
<li><code>identifier</code></li>
<li><code>distribution-format</code></li>
</ul>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>
        </div>
    </div>
</div>
<footer class="container page-footer">
	<div class="row top-buffer">
		<div class="col-xs-12">
			<p>The OGD Handbook provides support for individuals and organizations wishing to publish open government data. It is designed as a wiki: contributions from organizations and individuals that have experience with open data are explicitly welcomed. handbook.opendata.swiss is operated by the Federal Statistical Office.</p>
		</div>
	</div>
	<div class="row top-buffer">
		<div class="col-md-2 col-xs-12">
			<div class="btn-group">
				<button type="button" id="lang-button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="name">Deutsch</span> <span class="caret"></span>
				</button>
				<ul class="dropdown-menu" role="menu" id="lang-switch">
            <li lang="en"><a href="//opendata-swiss.github.io/ogd-handbook-site//opendata-swiss.github.io/ogd-handbook-site/en/pages/index">English</a></li>
            <li lang="de"><a href="//opendata-swiss.github.io/ogd-handbook-site//opendata-swiss.github.io/ogd-handbook-site/de/pages/index">Deutsch</a></li>
            <li lang="fr"><a href="//opendata-swiss.github.io/ogd-handbook-site//opendata-swiss.github.io/ogd-handbook-site/fr/pages/index">Fran√ßais</a></li>
            <li lang="it"><a href="//opendata-swiss.github.io/ogd-handbook-site//opendata-swiss.github.io/ogd-handbook-site/it/pages/index">Italiano</a></li>
				</ul>
			</div>
		</div>
		<div class="col-md-2 col-xs-6">
			<ul class="list-unstyled">
				<li><a href="//opendata-swiss.github.io/ogd-handbook-site/pages/contribute">Instructions</a></li>
				<!-- <li><a href="//opendata-swiss.github.io/ogd-handbook-site/category/library">Library</a></li> -->
			</ul>
		</div>
		<div class="col-md-2 col-xs-6">
			<ul class="list-unstyled">
				<li><a href="//opendata-swiss.github.io/ogd-handbook-site/pages/about">About us</a></li>
				<!-- <li><a href="//opendata-swiss.github.io/ogd-handbook-site/library/glossary">Glossary</a></li> -->
			</ul>
		</div>
		<div class="col-md-4 col-xs-12">
			<ul class="list-unstyled">
				<li><a href="//opendata-swiss.github.io/ogd-handbook-site/pages/legal-notice">Legal notice</a></li>
			</ul>
		</div>
	</div>
	<div id="logos" class="row top-buffer">
		<div class="col-xs-12">
			<img class="logo-confederation" src="//opendata-swiss.github.io/ogd-handbook-site/theme/ogdch/logo-confederation.png" />
			<img class="logo-egovernment" src="//opendata-swiss.github.io/ogd-handbook-site/theme/ogdch/Logo-TF-en.png" />
		</div>
	</div>
</footer>
<script src="//opendata-swiss.github.io/ogd-handbook-site/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//opendata-swiss.github.io/ogd-handbook-site/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="//opendata-swiss.github.io/ogd-handbook-site/theme/js/respond.min.js"></script>

<!-- Handbook scripts -->
<script src="//opendata-swiss.github.io/ogd-handbook-site/theme/ogdch/handbook.js"></script>


</body>
</html>